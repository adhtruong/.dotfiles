# This is Git's per-user configuration file.

[url "ssh://git@github.com/"]
insteadOf = https://github.com/

[alias]
	# https://stackoverflow.com/a/44750379
	default-branch = !git symbolic-ref refs/remotes/origin/HEAD 2>/dev/null | xargs basename

	# https://github.com/not-an-aardvark/git-delete-squashed
	delete-squashed = "!f() { local targetBranch=${1:-$(git default-branch)} && git checkout -q $targetBranch && git branch --merged | grep -v \"\\*\" | xargs -n 1 git branch -d && git for-each-ref refs/heads/ \"--format=%(refname:short)\" | while read branch; do mergeBase=$(git merge-base $targetBranch $branch) && [[ $(git cherry $targetBranch $(git commit-tree $(git rev-parse $branch^{tree}) -p $mergeBase -m _)) == \"-\"* ]] && git branch -D $branch; done; }; f"
	undo = reset --soft HEAD^

	comit = commit      # spellchecker:disable-line
	commmit = commit    # spellchecker:disable-line
	swicht = switch
	statut = status
	chekcout = checkout # spellchecker:disable-line

	git = !git
	sync = !git fetch && git rebase origin/$(git default-branch)

[include]
	path = ~/.gitconfig_local
[pager]
	branch = false
[core]
	editor = vim
	excludesfile = ~/.config/git/ignore
[init]
	defaultBranch = main
[push]
	autoSetupRemote = true
[status]
	branch = true
[fetch]
	prune = true
	pruneTags = true
	all = true
[rebase]
	autoSquash = true
	autoStash = true
	updateRefs = true
